# Plugin Info
version: 0.0.2
title: Elasticsearch
description: Log parser for Elasticsearch
parameters:
  - name: enable_general_logs
    label: General Logs
    description: Enable to collect Elasticsearch general logs
    type: bool
    default: true
  - name: general_log_path
    label: General Logs Path
    description: The absolute path to the Elasticsearch general logs
    type: string
    default: "/var/log/elasticsearch/elasticsearch.log*"
    relevant_if:
      enable_general_logs:
        equals: true
  - name: enable_deprecation_logs
    label: Deprecation Logs
    description: Enable to collect Elasticsearch deprecation logs
    type: bool
    default: true
  - name: deprecation_log_path
    label: Deprecation Logs Path
    description: The absolute path to the Elasticsearch deprecation logs
    type: string
    default: "/var/log/elasticsearch/elasticsearch_deprecation.log*"
    relevant_if:
      enable_deprecation_logs:
        equals: true
  - name: enable_gc_logs
    label: Garbage Collection Logs
    description: Enable to collect Elasticsearch garbage collection logs
    type: bool
    default: false
  - name: gc_log_path
    label: Garbage Collection Logs Path
    description: The absolute path to the Elasticsearch garbage collection logs
    type: string
    default: "/var/log/elasticsearch/gc.log*"
    relevant_if:
      enable_gc_logs:
        equals: true
  - name: start_at
    label: Start At
    description: Start reading files from 'beginning' or 'end'
    type: enum
    valid_values:
      - beginning
      - end
    default: end

# Set Defaults
# {{$enable_general_logs := default true .enable_general_logs}}
# {{$general_log_path := default "/var/log/elasticsearch/elasticsearch.log*" .general_log_path}}
# {{$enable_deprecation_logs := default true .enable_deprecation_logs}}
# {{$deprecation_log_path := default "/var/log/elasticsearch/elasticsearch_deprecation.log*" .deprecation_log_path}}
# {{$enable_gc_log